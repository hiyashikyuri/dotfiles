# NeoVimのプラグインマネージャー。これないとやばい
[[plugins]]
repo = 'Shougo/dein.vim'

# Lint エンジン。サイドバーの矢印とコメントでチェックしてくれる
[[plugins]]
repo = 'w0rp/ale'

# syntax highter
[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter'
hook_add = '''
lua << EOF
require 'nvim-treesitter.configs'.setup {
  highlight = {
    enable = true,
    disable = {},
  },
  indent = {
    enable = false,
    disable = {},
  },
  ensure_installed = {
    "c",
    "cpp",
    "cmake",
    "css",
    "dart",
    "dot",
    "go",
    "gomod",
    "graphql",
    "html",
    "json",
    "java",
    "javascript",
    "kotlin",
    "lua",
    "make",
    "markdown",
    "python",
    "ruby",
    "rust",
    "swift",
    "scss",
    "sql",
    "typescript",
    "tsx",
    "toml",
    "vim",
    "yaml"
  }
}
EOF
'''

# telescopeの依存
[[plugins]]
repo = 'nvim-lua/plenary.nvim'

[[plugins]]
repo = 'nvim-telescope/telescope.nvim'
depends = ['plenary.nvim', 'telescope-media-files.nvim']
hook_add = '''
lua << EOF
local actions= require('telescope.actions')
require('telescope').setup {
  defaults = {
    mappings = {
      n= {
        ["q"] = actions.close
      }
    }
  }
}
EOF
  nnoremap ff <cmd>Telescope find_files hidden=true<cr>
  nnoremap fg <cmd>Telescope live_grep<cr>
  nnoremap fb <cmd>Telescope buffers<cr>
  nnoremap fh <cmd>Telescope help_tags<cr>
'''


# telescopeで表示するアイコン
[[plugins]]
repo ="kyazdani42/nvim-web-devicons"

[[plugins]]
repo ="kristijanhusak/defx-git"
hook_add = '''
call defx#custom#column('git', 'indicators', {
  \ 'Modified'  : '✹',
  \ 'Staged'    : '✚',
  \ 'Untracked' : '✭',
  \ 'Renamed'   : '➜',
  \ 'Unmerged'  : '═',
  \ 'Ignored'   : '☒',
  \ 'Deleted'   : '✖',
  \ 'Unknown'   : '?'
  \ })
'''

# icons for defx
[[plugins]]
repo ="kristijanhusak/defx-icons"

# file viewer
[[plugins]]
repo = 'Shougo/defx.nvim'
depends = ['defx-git', 'defx-icons']
hook_add = '''
call defx#custom#column('icon', {
      \ 'directory_icon': '▸',
      \ 'opened_icon': '▾',
      \ 'root_icon': ' ',
      \ })
call defx#custom#column('filename', {
      \ 'min_width': 40,
      \ 'max_width': 40,
      \ })
call defx#custom#column('mark', {
      \ 'readonly_icon': '✗',
      \ 'selected_icon': '✓',
      \ })
call defx#custom#option('_', {
      \ 'columns': 'indent:git:icons:filename',
      \ 'show_ignored_files': 1,
      \ 'toggle': 1,
      \ 'buffer_name': 'exlorer',
      \ })
nnoremap <C-e> :<C-u>Defx -new `expand('%:p:h')` -search=`expand('%:p')`<CR>
autocmd FileType defx call s:defx_my_settings()
  function! s:defx_my_settings() abort
    " Define mappings
    nnoremap <silent><buffer><expr> <CR> defx#do_action('open')
    nnoremap <silent><buffer><expr> c defx#do_action('copy')
    nnoremap <silent><buffer><expr> m defx#do_action('move')
    nnoremap <silent><buffer><expr> p defx#do_action('paste')
    nnoremap <silent><buffer><expr> l defx#do_action('open')
    nnoremap <silent><buffer><expr> E defx#do_action('open', 'vsplit')
    nnoremap <silent><buffer><expr> P defx#do_action('open', 'pedit')
    nnoremap <silent><buffer><expr> o defx#do_action('open_or_close_tree')
    nnoremap <silent><buffer><expr> K defx#do_action('new_directory')
    nnoremap <silent><buffer><expr> N defx#do_action('new_file')
    nnoremap <silent><buffer><expr> M defx#do_action('new_multiple_files')
    nnoremap <silent><buffer><expr> C defx#do_action('toggle_columns', 'mark:indent:icon:filename:type:size:time')
    nnoremap <silent><buffer><expr> S defx#do_action('toggle_sort', 'time')
    nnoremap <silent><buffer><expr> d defx#do_action('remove')
    nnoremap <silent><buffer><expr> r defx#do_action('rename')
    nnoremap <silent><buffer><expr> ! defx#do_action('execute_command')
    nnoremap <silent><buffer><expr> x defx#do_action('execute_system')
    nnoremap <silent><buffer><expr> yy defx#do_action('yank_path')
    nnoremap <silent><buffer><expr> . defx#do_action('toggle_ignored_files')
    nnoremap <silent><buffer><expr> ; defx#do_action('repeat')
    nnoremap <silent><buffer><expr> h defx#do_action('cd', ['..'])
    nnoremap <silent><buffer><expr> ~ defx#do_action('cd')
    nnoremap <silent><buffer><expr> q defx#do_action('quit')
    nnoremap <silent><buffer><expr> <Space> defx#do_action('toggle_select') . 'j'
    nnoremap <silent><buffer><expr> * defx#do_action('toggle_select_all')
    nnoremap <silent><buffer><expr> j line('.') == line('$') ? 'gg' : 'j'
    nnoremap <silent><buffer><expr> k line('.') == 1 ? 'G' : 'k'
    nnoremap <silent><buffer><expr> <C-l> defx#do_action('redraw')
    nnoremap <silent><buffer><expr> <C-g> defx#do_action('print')
    nnoremap <silent><buffer><expr> cd defx#do_action('change_vim_cwd')
  endfunction
'''

# iconのパッケージ
[[plugins]]
repo = 'ryanoasis/vim-devicons'

# 差分を左に-と+で教えてくれる
[[plugins]]
repo = "airblade/vim-gitgutter"

# Gitに関するコマンドを使うことが可能。超便利
[[plugins]]
repo = "tpope/vim-fugitive"

# 複数行のコメントいける
[[plugins]]
repo = 'tomtom/tcomment_vim'
hook_add = '''
    vnoremap ? :'<,'>TComment<CR>
'''

# 括弧に色をつけてわかりやすくしてくれる。だいじ
[[plugins]]
repo = 'luochen1990/rainbow'
hook_add = '''
    let g:rainbow_active = 1
'''

[[plugins]]
repo = 'folke/tokyonight.nvim'
hook_add = '''
  let g:tokyonight_style = "night"
  let g:tokyonight_italic_functions = 0
  let g:tokyonight_transparent = 1
  let g:tokyonight_transparent_sidebar = 1

  let g:tokyonight_colors = {
    \ 'fg': "#839496",
    \ 'fg_dark': "#586e75",
    \ 'fg_gutter': "#073642",
    \ 'bg_highlight': "#002b36",
    \ 'comment': "#586e75",
    \ 'blue': "#268bd2",
    \ 'cyan': "#2aa198",
    \ 'blue1': "#2ac3de",
    \ 'blue2': "#0db9d7",
    \ 'blue5': "#89ddff",
    \ 'blue6': "#B4F9F8",
    \ 'yellow': "#b58900",
    \ 'orange': "#cb4b16",
    \ 'magenta': "#d33682",
    \ 'purple': "#6c71c4"
  \ }
'''
# repo = 'NLKNguyen/papercolor-theme'

# 簡単に括弧やクオテーションで囲める。超重要
[[plugins]]
repo = 'tpope/vim-surround'

# カッコやクオテーションの自動追加
[[plugins]]
repo = 'jiangmiao/auto-pairs'

# インデントを見やすくする
[[plugins]]
repo = 'nathanaelkane/vim-indent-guides'

# snippets
[[plugins]]
repo ='SirVer/ultisnips'
hook_add = '''
   let g:UltiSnipsSnippetDirectories=[$HOME.'/.config/UltiSnips']
   let g:UltiSnipsExpandTrigger       = '<c-k>'
   let g:UltiSnipsJumpForwardTrigger="<c-b>"
   let g:UltiSnipsJumpBackwardTrigger="<c-z>"
 '''

# 特定keywordで画面移動を素早く実行
[[plugins]]
repo ='easymotion/vim-easymotion'
hook_add = '''
  let g:EasyMotion_do_mapping = 0
  nmap qq <Plug>(easymotion-overwin-f)
  nmap qq <Plug>(easymotion-overwin-f2)
  let g:EasyMotion_smartcase = 1
  map <Leader>j <Plug>(easymotion-j)
  map <Leader>k <Plug>(easymotion-k)
 '''

# whitespace検出
[[plugins]]
repo='ntpeters/vim-better-whitespace'

# vim-testの画面を画面下部に出力させるために導入
[[plugins]]
repo = 'tpope/vim-dispatch'
hook_add = '''
let g:dispatch_quickfix_height=30
'''
# test実行を簡単にする
[[plugins]]
repo = 'vim-test/vim-test'
depends = ['vim-dispatch']
hook_add = '''
let g:test#strategy = 'dispatch'
'''

# vim内でターミナル起動
[[plugins]]
repo = 'kassio/neoterm'
hook_add = '''
	let g:neoterm_autoinsert = 1
	let g:neoterm_autoscroll = 1
	" # let g:neoterm_split_on_tnew = 1
	let g:neoterm_default_mod = "belowright"

  nmap <C-t> :Ttoggle<CR>
  '''
# function等をリストして右側に出してくれる。ファイルの中の関数全部一気に見れるので非常に便利
[[plugins]]
repo = 'liuchengxu/vista.vim'
depends = ['coc.nvim', 'lightline.vim']

# windowのサイズをtmuxのpaneみたいに変更可能
[[plugins]]
repo = 'simeji/winresizer'
hook_add = '''
  let g:winresizer_start_key = '<C-s>'
'''

[[plugins]]
repo = 'iberianpig/tig-explorer.vim'

# vim でshell起動。主にdlvのUIを整えるため、が目的
[[plugins]]
repo = 'Shougo/vimshell.vim'
